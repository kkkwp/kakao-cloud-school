<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정렬</title>
    <script>
        // JS는 숫자 배열을 문자 배열로 판단하고 정렬한다.
        // 코드를 가지고 정렬하기 때문에, 이렇게 자릿수가 다른 데이터를 정렬하면 오류가 발생한다.
        var ar = ["에스파", "소녀시대", "레드벨벳", "에프엑스"];
        var br = [20, 40, 230, 110];
        console.log(ar.sort());

        // 숫자의 경우에는 문제가 발생한다.
        console.log(br.sort()); // 110, 20, 230, 40

        // sort 메서드는 매개변수가 2개이고 리턴은 정수를 하는 함수를 대입하는 것이 가능한데
        // 매개변수 2개는 배열의 데이터가 순차적으로 전부 대입되고
        // 양수를 리턴하면 앞의 데이터가 크다고 판단하고 위치를 변경
        // 내림차순은 b-a
        console.log(br.sort((a, b) => { return a - b }));

        // 문자열 배열의 내림차순
        // 오름차순 정렬한 후 reverse를 해도 되지만, 크기 비교를 이용
        console.log(ar.sort((a, b) => {
            if (a < b) return 1;
            else if (a == b) return 0;
            else return -1;
        }));

        // 인스턴스를 생성할 수 있는 생성자
        function Book(name, price, date) {
            this.name = name;
            this.price = price;
            this.date = date;

            this.toString = function () { // 오버라이딩
                return this.name + " : " + this.price + " : " + this.data;
            }
        }

        var books = [
            new Book("파이썬", 30000, new Date(2022, 10, 10)),
            new Book("Java", 40000, new Date(2022, 10, 9)),
            new Book("C", 27000, new Date(2022, 10, 8)),
            new Book("JavaScript", 22000, new Date(2022, 10, 7))
        ];

        console.log(books.sort((a, b) => {
            return a.date.getTime() - b.date.getTime();
        }));

        // 1이면 name의 오름차순, 2이면 name의 내림차순, 
        // 3이면 price의 오름차순, 4이면 price의 내림차순, 
        // 5이면 date의 오름차순, 6이면 date의 내림차순,
        // 나머지는 입력한 순서대로
        let menu = prompt("정렬 방법을 선택하세요.");
        let result;
        switch (menu) {
            case "1":
                result = books.sort((a, b) => {
                    if (a.name > b.name) return 1;
                    else return -1;
                });
                break;
            case "2":
                result = books.sort((a, b) => {
                    if (a.name < b.name) return 1;
                    else return -1;
                });
                break;
            case "3":
                result = books.sort((a, b) => {
                    return a.price - b.price;
                });
                break;
            case "4":
                result = books.sort((a, b) => {
                    return b.price - a.price;
                });
                break;
            case "5":
                result = books.sort((a, b) => {
                    return a.date.getTime() - b.date.getTime();
                });
                break;
            case "6":
                result = books.sort((a, b) => {
                    return b.date.getTime() - a.date.getTime();
                });
                break;
            default:
                result = books;
                break;
        }
        console.log(result);
    </script>
</head>

<body>

</body>

</html>